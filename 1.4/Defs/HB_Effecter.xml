<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <EffecterDef>
        <defName>HB_InfernalDashEffect</defName>
        <children>
          <li>
            <subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
            <spawnLocType>OnSource</spawnLocType>
            <soundDef>HB_InfernalDashLaunch</soundDef>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
            <spawnLocType>OnSource</spawnLocType>
            <fleckDef>ShotFlash</fleckDef>
            <scale>6</scale>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
            <scale>0.5~0.6</scale>
            <spawnLocType>OnSource</spawnLocType>
            <positionOffset>(0,0,-0.5)</positionOffset>
            <fleckDef>HB_JumpFlame</fleckDef>
            <ticksBetweenMotes>1</ticksBetweenMotes>
            <maxMoteCount>14</maxMoteCount>
            <speed>4~5</speed>
            <angle>170~190</angle>
            <absoluteAngle>true</absoluteAngle>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
            <scale>0.9~0.7</scale>
            <spawnLocType>OnSource</spawnLocType>
            <positionOffset>(0,0,-0.5)</positionOffset>
            <fleckDef>HB_JumpFlameGlow</fleckDef>
            <ticksBetweenMotes>1</ticksBetweenMotes>
            <maxMoteCount>14</maxMoteCount>
            <speed>4~5</speed>
            <angle>160~200</angle>
            <absoluteAngle>true</absoluteAngle>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
            <scale>0.8~1.2</scale>
            <spawnLocType>OnSource</spawnLocType>
            <positionOffset>(0,0,-0.5)</positionOffset>
            <fleckDef>JumpSmoke</fleckDef>
            <ticksBetweenMotes>2</ticksBetweenMotes>
            <maxMoteCount>8</maxMoteCount>
            <speed>5~6</speed>
            <angle>170~190</angle>
            <absoluteAngle>true</absoluteAngle>
          </li>
        </children>
      </EffecterDef>

      <FleckDef ParentName="FleckBase_Thrown">
        <defName>HB_JumpFlame</defName>
        <graphicData>
          <texPath>Things/Mote/DashFlame</texPath>
          <shaderType>TransparentPostLight</shaderType>
          <renderInstanced>true</renderInstanced>
        </graphicData>
        <altitudeLayer>Projectile</altitudeLayer>
        <solidTime>0.2</solidTime>
        <fadeOutTime>0.05</fadeOutTime>
        <growthRate>-4</growthRate>
      </FleckDef>
    
      <FleckDef ParentName="FleckBase_Thrown">
        <defName>HB_JumpFlameGlow</defName>
        <graphicData>
          <texPath>Things/Mote/DashFlame</texPath>
          <shaderType>MoteGlow</shaderType>
          <color>(1,0.6,0.6,0.3)</color>
        </graphicData>
        <altitudeLayer>Projectile</altitudeLayer>
        <solidTime>0</solidTime>
        <fadeOutTime>0.3</fadeOutTime>
        <growthRate>-3</growthRate>
      </FleckDef>

      <EffecterDef>
        <defName>HB_JumpWarmupEffect</defName>
        <children>
          <li>
            <subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
            <spawnLocType>OnSource</spawnLocType>
            <soundDef>HB_InfernalDashPreLaunch</soundDef>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerTriggeredDelayed</subEffecterClass>
            <spawnLocType>OnSource</spawnLocType>
            <fleckDef>JumpWarmupSmoke</fleckDef>
            <initialDelayTicks>1</initialDelayTicks>
            <speed>0.6~0.8</speed>
            <angle>170~190</angle>
            <absoluteAngle>true</absoluteAngle>
          </li>
        </children>
      </EffecterDef>

      <SoundDef>
        <defName>HB_InfernalDashLand</defName>
        <context>MapOnly</context>
        <maxSimultaneous>1</maxSimultaneous>
        <subSounds>
          <li>
            <grains>
              <li Class="AudioGrain_Folder">
                <clipPath>Abilities/InfernalDash_Land</clipPath>
              </li>
            </grains>
            <volumeRange>25</volumeRange>
            <pitchRange>1</pitchRange>
          </li>
        </subSounds>
      </SoundDef>

      <SoundDef>
        <defName>HB_InfernalDashLaunch</defName>
        <context>MapOnly</context>
        <maxSimultaneous>1</maxSimultaneous>
        <subSounds>
          <li>
            <grains>
              <li Class="AudioGrain_Clip">
                <clipPath>Abilities/InfernalDash</clipPath>
              </li>
            </grains>
            <volumeRange>30</volumeRange>
            <pitchRange>1</pitchRange>
          </li>
        </subSounds>
      </SoundDef>

      <SoundDef>
        <defName>HB_InfernalDashPreLaunch</defName>
        <context>MapOnly</context>
        <maxSimultaneous>1</maxSimultaneous>
        <subSounds>
          <li>
            <grains>
              <li Class="AudioGrain_Folder">
                <clipPath>Abilities/InfernalDashPreLaunch</clipPath>
              </li>
            </grains>
            <volumeRange>30</volumeRange>
            <pitchRange>1</pitchRange>
          </li>
        </subSounds>
      </SoundDef>

      <EffecterDef>
        <defName>HB_InfernalBreath</defName>
        <children>
          <li>
            <subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
            <positionRadius>0.15</positionRadius>
            <fleckDef>HB_InfernalBreath</fleckDef>
            <chancePerTick>0.9</chancePerTick>
            <speed>9.5</speed>
            <scale>0.8~1.2</scale>
            <angle>-15~15</angle>
            <positionLerpFactor>0.85</positionLerpFactor>
            <fleckUsesAngleForVelocity>true</fleckUsesAngleForVelocity>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
            <positionRadius>0.1</positionRadius>
            <fleckDef>HB_InfernalBreath_Base</fleckDef>
            <chancePerTick>0.1</chancePerTick>
            <speed>0.6</speed>
            <scale>0.8</scale>
            <angle>-9~9</angle>
            <positionLerpFactor>0.75</positionLerpFactor>
            <fleckUsesAngleForVelocity>true</fleckUsesAngleForVelocity>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
            <positionRadius>0.1</positionRadius>
            <moteDef>Mote_SparkThrownFast</moteDef>
            <chancePerTick>0.5</chancePerTick>
            <speed>3.3~5</speed>
            <scale>0.1~0.2</scale>
            <angle>-12~12</angle>
            <positionLerpFactor>0.8</positionLerpFactor>
            <fleckUsesAngleForVelocity>true</fleckUsesAngleForVelocity>
          </li>
          <li>
            <subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
            <positionRadius>0.2</positionRadius>
            <fleckDef>HB_InfernalBreath_Glow</fleckDef>
            <chancePerTick>0.16</chancePerTick>
            <positionLerpFactor>0.65</positionLerpFactor>
          </li>
        </children>
      </EffecterDef>

      <FleckDef ParentName="FleckBase_Thrown">
        <defName>HB_InfernalBreath</defName>
        <altitudeLayer>MoteOverhead</altitudeLayer>
        <fadeInTime>0.2</fadeInTime>
        <solidTime>0.4</solidTime>
        <fadeOutTime>0.2</fadeOutTime>
        <rotateTowardsMoveDirection>true</rotateTowardsMoveDirection>
        <rotateTowardsMoveDirectionExtraAngle>-90</rotateTowardsMoveDirectionExtraAngle>
        <graphicData>
          <graphicClass>Graphic_FleckPulse</graphicClass>
          <shaderType>GlowAnimated</shaderType>
          <texPath>Things/Mote/InfernalBreath_A</texPath>
          <shaderParameters>
            <_NumFrames>5</_NumFrames>
            <_FramesPerSec>7</_FramesPerSec>
          </shaderParameters>
          <drawSize>1.2</drawSize>
        </graphicData>
      </FleckDef>

      <FleckDef ParentName="FleckBase_Thrown">
        <defName>HB_InfernalBreath_Base</defName>
        <altitudeLayer>MoteOverhead</altitudeLayer>
        <fadeInTime>0.2</fadeInTime>
        <solidTime>0.2</solidTime>
        <fadeOutTime>0.1</fadeOutTime>
        <rotateTowardsMoveDirection>true</rotateTowardsMoveDirection>
        <graphicData>
          <graphicClass>Graphic_FleckPulse</graphicClass>
          <shaderType>MoteGlow</shaderType>
          <texPath>Things/Mote/InfernalBreath_Base</texPath>
          <drawSize>(1.25, 2.5)</drawSize>
        </graphicData>
      </FleckDef>
    
      <FleckDef ParentName="FleckBase_Thrown">
        <defName>HB_InfernalBreath_Glow</defName>
        <altitudeLayer>LightingOverlay</altitudeLayer>
        <fadeInTime>0.1</fadeInTime>
        <solidTime>0.105</solidTime>
        <fadeOutTime>0.3</fadeOutTime>
        <graphicData>
          <graphicClass>Graphic_Fleck</graphicClass>
          <texPath>Things/Mote/FireGlow</texPath>
          <shaderType>MoteGlow</shaderType>
          <drawSize>7</drawSize>
          <color>(1, 1, 1, 0.75)</color>
        </graphicData>
      </FleckDef>

      <SoundDef>
        <defName>HB_InfernalBreath_Warmup</defName>
        <context>MapOnly</context>
        <maxSimultaneous>5</maxSimultaneous>
        <priorityMode>PrioritizeNearest</priorityMode>
        <subSounds>
          <li>
            <grains>
              <li Class="AudioGrain_Clip">
                <clipPath>Abilities/InfernalBreath_Warmup</clipPath>
              </li>
            </grains>
            <volumeRange>60</volumeRange>
            <muteWhenPaused>True</muteWhenPaused>
            <tempoAffectedByGameSpeed>true</tempoAffectedByGameSpeed>
          </li>
        </subSounds>
      </SoundDef>

      <SoundDef>
        <defName>HB_InfernalBreath_Resolve</defName>
        <context>MapOnly</context>
        <maxSimultaneous>5</maxSimultaneous>
        <priorityMode>PrioritizeNearest</priorityMode>
        <subSounds>
          <li>
            <grains>
              <li Class="AudioGrain_Clip">
                <clipPath>Abilities/InfernalBreath</clipPath>
              </li>
            </grains>
            <volumeRange>60</volumeRange>
            <muteWhenPaused>True</muteWhenPaused>
            <tempoAffectedByGameSpeed>true</tempoAffectedByGameSpeed>
          </li>
        </subSounds>
      </SoundDef>
</Defs>